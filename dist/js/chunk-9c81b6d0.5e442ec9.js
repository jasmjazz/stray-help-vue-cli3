(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c81b6d0"],{"323d":function(t,a,e){"use strict";e("5548")},5548:function(t,a,e){},"89a7":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"wrap"},[e("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),t._m(1),e("div",{staticClass:"form"},[e("div",{staticClass:"col"},[e("div",{staticClass:"card"},[t._m(2),e("div",{staticClass:"card-body"},[e("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var s=a.handleSubmit;return[e("div",{staticClass:"my-2 row justify-content-center"},[e("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),s(t.createOrder)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("捐助人姓名 *")]),e("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"buyer-name",placeholder:"請輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[t._v("捐助人電話 *")]),e("ValidationProvider",{attrs:{rules:"required|phone"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"usertel",placeholder:"請輸入電話號碼"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useremail"}},[t._v("Email *")]),e("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.errors,r=a.classes;return[e("div",{class:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),e("span",{staticClass:"text-danger"},[t._v(t._s(s[0]))])])]}}],null,!0)})],1),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"useraddress"}},[t._v("\n                    捐助人地址"),e("span",{staticStyle:{color:"green"}},[t._v("（如需園區簽收單，請務必填寫）")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}})]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"comment"}},[t._v("想說的話")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10",placeholder:"說說你的想法吧"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),e("div",{staticClass:"text-right"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("填寫完成")])])])])]}}])})],1)])])])],1),t._m(3)])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"order-banner"},[s("img",{staticClass:"img-fluid",attrs:{src:e("ac52"),alt:"流浪貓狗助糧平台"}}),s("div",{staticClass:"text-box"},[s("h1",[t._v("助糧流程")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row sop"},[e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[t._v("\n          1. 糧食明細\n          "),e("i",{staticClass:"fas fa-check-circle"})])]),e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n          2. 填寫資料\n        ")])]),e("div",{staticClass:"col-md-4 col-sm-12"},[e("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[t._v("\n          3. 完成捐糧\n        ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row justify-content-center"},[e("h4",{staticClass:"title"},[e("i",{staticClass:"fas fa-paw"}),t._v("\n              捐助人資訊\n            ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal fade",attrs:{id:"leaveModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title text-light",attrs:{id:"exampleModalLabel"}},[t._v("愛心助糧")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),e("div",{staticClass:"modal-body"},[e("p",[e("i",{staticClass:"fas fa-exclamation-circle"}),t._v("\n            助糧流程尚未完成，確定離開此頁？\n          ")])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary btn-stay",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            否\n          ")]),e("button",{staticClass:"btn btn-primary btn-leave",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            是\n          ")])])])])])}],o=(e("ac6a"),{name:"UserInfo",data:function(){return{isLoading:!1,cart:[],form:{user:{name:"",email:"",tel:"",address:""},message:""},nextPage:!1}},methods:{getCart:function(){var t=this;t.cart=JSON.parse(localStorage.getItem("cart"))||[]},createOrder:function(){var t=this;t.addCart();var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/order"),e=t.form;t.isLoading=!0,t.$http.post(a,{data:e}).then((function(a){a.data.success?(t.nextPage=!0,t.isLoading=!1,t.$router.push("/ordercheck/".concat(a.data.orderId)),localStorage.removeItem("cart")):t.isLoading=!1}))},addCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/cart");t.cart=JSON.parse(localStorage.getItem("cart"))||[],t.cart.forEach((function(e){var s={product_id:e.id,qty:e.qty};t.$http.post(a,{data:s}).then((function(a){a.data.success||t.$bus.$emit("message: push",a.data.message,"danger")}))}))}},beforeRouteLeave:function(t,a,e){var s=this;0===s.cart.length&&(s.nextPage=!0),s.nextPage?e():($("#leaveModal").modal("show"),$(".btn-stay").on("click",(function(){e(!1)})),$(".btn-leave").on("click",(function(){e()})))},created:function(){this.getCart()}}),i=o,l=(e("323d"),e("2877")),n=Object(l["a"])(i,s,r,!1,null,"09839330",null);a["default"]=n.exports},ac52:function(t,a,e){t.exports=e.p+"img/picture05.9c07961d.png"}}]);
//# sourceMappingURL=chunk-9c81b6d0.5e442ec9.js.map