{"version":3,"sources":["webpack:///./src/views/front/UserInfo.vue?c673","webpack:///./src/views/front/UserInfo.vue?f811","webpack:///src/views/front/UserInfo.vue","webpack:///./src/views/front/UserInfo.vue?5636","webpack:///./src/views/front/UserInfo.vue","webpack:///./src/assets/image/picture05.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","scopedSlots","_u","key","fn","ref","handleSubmit","preventDefault","addCart","_v","errors","classes","class","directives","name","rawName","value","form","user","expression","domProps","target","composing","$set","_s","staticRenderFns","data","cart","email","tel","address","message","nextPage","methods","getCart","vm","JSON","parse","localStorage","getItem","createOrder","$http","post","api","response","success","$router","push","removeItem","forEach","product_id","item","id","qty","$bus","$emit","beforeRouteLeave","length","next","$","modal","created","component","module","exports"],"mappings":"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","file":"js/chunk-fc4f8bf4.74008de8.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=style&index=0&id=549bee9d&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"wrap\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"loader\":\"dots\"},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_vm._m(1),_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"card\"},[_vm._m(2),_c('div',{staticClass:\"card-body\"},[_c('ValidationObserver',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar handleSubmit = ref.handleSubmit;\nreturn [_c('div',{staticClass:\"my-2 row justify-content-center\"},[_c('form',{staticClass:\"col-md-6\",on:{\"submit\":function($event){$event.preventDefault();return handleSubmit(_vm.addCart)}}},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"捐助人姓名 *\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{class:classes},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.name),expression:\"form.user.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"buyer-name\",\"placeholder\":\"請輸入姓名\"},domProps:{\"value\":(_vm.form.user.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"name\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"捐助人電話 *\")]),_c('ValidationProvider',{attrs:{\"rules\":\"required|phone\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{class:classes},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.tel),expression:\"form.user.tel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"usertel\",\"placeholder\":\"請輸入電話號碼\"},domProps:{\"value\":(_vm.form.user.tel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"tel\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useremail\"}},[_vm._v(\"Email *\")]),_c('ValidationProvider',{attrs:{\"name\":\"email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nvar classes = ref.classes;\nreturn [_c('div',{class:classes},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.email),expression:\"form.user.email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\",\"id\":\"useremail\",\"placeholder\":\"請輸入 Email\"},domProps:{\"value\":(_vm.form.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"email\", $event.target.value)}}}),_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])])]}}],null,true)})],1),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"useraddress\"}},[_vm._v(\"\\n                    捐助人地址\"),_c('span',{staticClass:\"note\"},[_vm._v(\"（如需園區簽收單，請務必填寫）\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.user.address),expression:\"form.user.address\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"address\",\"id\":\"useraddress\",\"placeholder\":\"請輸入地址\"},domProps:{\"value\":(_vm.form.user.address)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form.user, \"address\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"comment\"}},[_vm._v(\"想說的話\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"}],staticClass:\"form-control\",attrs:{\"name\":\"\",\"id\":\"comment\",\"cols\":\"30\",\"rows\":\"10\",\"placeholder\":\"說說你的想法吧\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}})]),_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"填寫完成\")])])])])]}}])})],1)])])])],1),_vm._m(3)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-banner\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../../assets/image/picture05.png\"),\"alt\":\"流浪貓狗助糧平台\"}}),_c('div',{staticClass:\"text-box\"},[_c('h1',[_vm._v(\"助糧流程\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row sop\"},[_c('div',{staticClass:\"col-md-4 col-sm-12\"},[_c('div',{staticClass:\"alert alert-dark\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          1. 糧食明細\\n          \"),_c('i',{staticClass:\"fas fa-check-circle\"})])]),_c('div',{staticClass:\"col-md-4 col-sm-12\"},[_c('div',{staticClass:\"alert alert-success\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          2. 填寫資料\\n        \")])]),_c('div',{staticClass:\"col-md-4 col-sm-12\"},[_c('div',{staticClass:\"alert alert-dark\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          3. 完成捐糧\\n        \")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row justify-content-center\"},[_c('h4',{staticClass:\"title\"},[_c('i',{staticClass:\"fas fa-paw\"}),_vm._v(\"\\n              捐助人資訊\\n            \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"leaveModal\",\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title text-light\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"愛心助糧\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_vm._v(\"\\n            助糧流程尚未完成，確定離開此頁？\\n          \")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary btn-stay\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n            否\\n          \")]),_c('button',{staticClass:\"btn btn-primary btn-leave\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n            是\\n          \")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"wrap\">\n      <loading :active.sync=\"isLoading\" loader=\"dots\"></loading>\n      <div class=\"order-banner\">\n        <img src=\"../../assets/image/picture05.png\" class=\"img-fluid\" alt=\"流浪貓狗助糧平台\">\n        <div class=\"text-box\">\n          <h1>助糧流程</h1>\n        </div>\n      </div>\n      <div class=\"row sop\">\n        <div class=\"col-md-4 col-sm-12\">\n          <div class=\"alert alert-dark\" role=\"alert\">\n            1. 糧食明細\n            <i class=\"fas fa-check-circle\"></i>\n          </div>\n        </div>\n        <div class=\"col-md-4 col-sm-12\">\n          <div class=\"alert alert-success\" role=\"alert\">\n            2. 填寫資料\n          </div>\n        </div>\n        <div class=\"col-md-4 col-sm-12\">\n          <div class=\"alert alert-dark\" role=\"alert\">\n            3. 完成捐糧\n          </div>\n        </div>\n      </div>\n      <!--Form-->\n      <div class=\"form\">\n        <div class=\"col\">\n          <div class=\"card\">\n            <div class=\"row justify-content-center\">\n              <h4 class=\"title\">\n                <i class=\"fas fa-paw\"></i>\n                捐助人資訊\n              </h4>\n            </div>\n            <div class=\"card-body\">\n              <!--表單-->\n              <ValidationObserver v-slot=\"{ handleSubmit }\">\n              <div class=\"my-2 row justify-content-center\">\n                <form class=\"col-md-6\" @submit.prevent=\"handleSubmit(addCart)\">\n                  <div class=\"form-group\">\n                    <label for=\"username\">捐助人姓名 *</label>\n                    <ValidationProvider rules=\"required\" v-slot=\"{ errors , classes }\">\n                      <div :class=\"classes\">\n                        <input type=\"text\" id=\"buyer-name\" class=\"form-control\"\n                          placeholder=\"請輸入姓名\" v-model=\"form.user.name\">\n                        <span class=\"text-danger\">{{ errors[0] }}</span>\n                      </div>\n                    </ValidationProvider>\n                  </div>\n                  <div class=\"form-group\">\n                    <label for=\"username\">捐助人電話 *</label>\n                    <ValidationProvider rules=\"required|phone\" v-slot=\"{ errors , classes }\">\n                      <div :class=\"classes\">\n                        <input type=\"text\" id=\"usertel\" class=\"form-control\"\n                          placeholder=\"請輸入電話號碼\" v-model=\"form.user.tel\">\n                        <span class=\"text-danger\">{{ errors[0] }}</span>\n                      </div>\n                    </ValidationProvider>\n                  </div>\n                  <div class=\"form-group\">\n                    <label for=\"useremail\">Email *</label>\n                      <ValidationProvider name=\"email\" rules=\"required|email\"\n                        v-slot=\"{ errors , classes }\">\n                        <div :class=\"classes\">\n                          <input type=\"email\" class=\"form-control\" name=\"email\"\n                            id=\"useremail\" placeholder=\"請輸入 Email\" v-model=\"form.user.email\">\n                          <span class=\"text-danger\">{{ errors[0] }}</span>\n                        </div>\n                      </ValidationProvider>\n                  </div>\n                  <div class=\"form-group\">\n                    <label for=\"useraddress\">\n                      捐助人地址<span class=\"note\">（如需園區簽收單，請務必填寫）</span>\n                    </label>\n                    <input type=\"text\" class=\"form-control\" name=\"address\" id=\"useraddress\"\n                      v-model=\"form.user.address\" placeholder=\"請輸入地址\">\n                  </div>\n                  <div class=\"form-group\">\n                    <label for=\"comment\">想說的話</label>\n                    <textarea name=\"\" id=\"comment\" class=\"form-control\"\n                      cols=\"30\" rows=\"10\" v-model=\"form.message\"\n                      placeholder=\"說說你的想法吧\"></textarea>\n                  </div>\n                  <div class=\"text-right\">\n                    <button type=\"submit\" class=\"btn btn-primary\">填寫完成</button>\n                  </div>\n                </form>\n              </div>\n              </ValidationObserver>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!--leaveModal-->\n    <div class=\"modal fade\" id=\"leaveModal\" tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n      <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">愛心助糧</h5>\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <p>\n              <i class=\"fas fa-exclamation-circle\"></i>\n              助糧流程尚未完成，確定離開此頁？\n            </p>\n          </div>\n          <div class=\"modal-footer\">\n            <button type=\"button\" class=\"btn btn-primary btn-stay\" data-dismiss=\"modal\">\n              否\n            </button>\n            <button type=\"button\" class=\"btn btn-primary btn-leave\" data-dismiss=\"modal\">\n              是\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* global $ */\n\nexport default {\n  name: 'UserInfo',\n  data() {\n    return {\n      isLoading: false,\n      cart: [],\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      nextPage: false,\n    };\n  },\n  methods: {\n    getCart() {\n      const vm = this;\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\n    },\n    createOrder() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/order`;\n      const order = vm.form;\n      vm.$http.post(api, { data: order }).then((response) => {\n        if (response.data.success) {\n          vm.nextPage = true;\n          vm.isLoading = false;\n          vm.$router.push(`/ordercheck/${response.data.orderId}`);\n          localStorage.removeItem('cart');\n        } else {\n          vm.isLoading = false;\n        }\n      });\n    },\n    // 加入server購物車\n    addCart() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart`;\n      vm.cart = JSON.parse(localStorage.getItem('cart')) || [];\n      vm.isLoading = true;\n      vm.cart.forEach((item) => {\n        const product = {\n          product_id: item.id,\n          qty: item.qty,\n        };\n        vm.$http.post(api, { data: product }).then((response) => {\n          if (response.data.success) {\n            vm.createOrder();\n          } else {\n            vm.$bus.$emit('message: push', response.data.message, 'danger');\n          }\n        });\n      });\n    },\n  },\n  beforeRouteLeave(to, from, next) {\n    const vm = this;\n    if (vm.cart.length === 0) {\n      vm.nextPage = true;\n    }\n    if (vm.nextPage) {\n      next();\n    } else {\n      $('#leaveModal').modal('show');\n      $('.btn-stay').on('click', () => {\n        next(false);\n      });\n      $('.btn-leave').on('click', () => {\n        next();\n      });\n    }\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modal-header {\n  background-color: #616161;\n}\n.btn-leave {\n  opacity: 0.5;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserInfo.vue?vue&type=template&id=549bee9d&scoped=true&\"\nimport script from \"./UserInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./UserInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserInfo.vue?vue&type=style&index=0&id=549bee9d&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"549bee9d\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/picture05.9c07961d.png\";"],"sourceRoot":""}