(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25e90002"],{"028a":function(t,a,s){"use strict";s("debc")},"0351":function(t,a,s){t.exports=s.p+"img/picture04.2117f2d6.png"},"89a7":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"user-info"},[s("div",{staticClass:"wrap"},[s("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),t._m(1),s("div",{staticClass:"form"},[s("div",{staticClass:"col"},[s("div",{staticClass:"card"},[t._m(2),s("div",{staticClass:"card-body"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var e=a.handleSubmit;return[s("div",{staticClass:"my-2 row justify-content-center"},[s("form",{staticClass:"col-md-6",on:{submit:function(a){return a.preventDefault(),e(t.createOrder)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("捐助人姓名 *")]),s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",id:"buyer-name",placeholder:"請輸入姓名"},domProps:{value:t.form.user.name},on:{input:function(a){a.target.composing||t.$set(t.form.user,"name",a.target.value)}}}),s("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"username"}},[t._v("捐助人電話 *")]),s("ValidationProvider",{attrs:{rules:"required|phone"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"text",id:"usertel",placeholder:"請輸入電話號碼"},domProps:{value:t.form.user.tel},on:{input:function(a){a.target.composing||t.$set(t.form.user,"tel",a.target.value)}}}),s("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"useremail"}},[t._v("Email *")]),s("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(a){a.target.composing||t.$set(t.form.user,"email",a.target.value)}}}),s("span",{staticClass:"text-danger"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"useraddress"}},[t._v("\n                    捐助人地址"),s("span",{staticStyle:{color:"green"}},[t._v("（如需園區簽收單，請務必填寫）")])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(a){a.target.composing||t.$set(t.form.user,"address",a.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"comment"}},[t._v("想說的話")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"10",placeholder:"說說你的想法吧"},domProps:{value:t.form.message},on:{input:function(a){a.target.composing||t.$set(t.form,"message",a.target.value)}}})]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("填寫完成")])])])])]}}])})],1)])])])],1),t._m(3)])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"banner"},[e("img",{staticClass:"img-fluid",attrs:{src:s("0351"),alt:"流浪貓狗助糧平台"}}),e("div",{staticClass:"text-box"},[e("h1",[t._v("助糧流程")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row sop"},[s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[t._v("\n          1. 糧食明細\n          "),s("i",{staticClass:"fas fa-check-circle"})])]),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("\n          2. 填寫資料\n        ")])]),s("div",{staticClass:"col-md-4 col-sm-12"},[s("div",{staticClass:"alert alert-dark",attrs:{role:"alert"}},[t._v("\n          3. 完成捐糧\n        ")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row justify-content-center"},[s("h4",{staticClass:"title"},[s("i",{staticClass:"fas fa-paw"}),t._v("\n              捐助人資訊\n            ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"leaveModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title text-light",attrs:{id:"exampleModalLabel"}},[t._v("愛心助糧")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("p",[s("i",{staticClass:"fas fa-exclamation-circle"}),t._v("\n            助糧流程尚未完成，確定離開此頁？\n          ")])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary btn-stay",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            否\n          ")]),s("button",{staticClass:"btn btn-primary btn-leave",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            是\n          ")])])])])])}],o=(s("ac6a"),s("1157")),i=s.n(o),l={name:"UserInfo",data:function(){return{isLoading:!1,carts:[],form:{user:{name:"",email:"",tel:"",address:""},message:""},nextPage:!1}},methods:{createOrder:function(){var t=this;t.addCart();var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/order"),s=t.form;t.isLoading=!0,t.$http.post(a,{data:s}).then((function(a){a.data.success?(t.isLoading=!1,t.nextPage=!0,t.carts=a.data.data,t.$router.push("/ordercheck/".concat(a.data.orderId)),localStorage.removeItem("cart")):t.isLoading=!1}))},addCart:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/cart");t.isLoading=!0,t.cart=JSON.parse(localStorage.getItem("cart"))||[],t.cart.forEach((function(s){var e={product_id:s.id,qty:s.qty};t.$http.post(a,{data:e}).then((function(a){a.data.success&&(t.isLoading=!1,t.$router.push("/userinfo"))}))}))}},beforeRouteLeave:function(t,a,s){var e=this;e.nextPage?s():(i()("#leaveModal").modal("show"),i()(".btn-stay").on("click",(function(){s(!1)})),i()(".btn-leave").on("click",(function(){s()})))}},n=l,c=(s("028a"),s("2877")),d=Object(c["a"])(n,e,r,!1,null,"245db825",null);a["default"]=d.exports},debc:function(t,a,s){}}]);
//# sourceMappingURL=chunk-25e90002.4b419100.js.map