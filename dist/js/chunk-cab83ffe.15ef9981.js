(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cab83ffe"],{"0af7":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cart-style"},[s("div",{staticClass:"desk-cart"},[s("div",{staticClass:"icon",on:{click:t.checkcart}},[t.sum>0?s("div",{staticClass:"num"},[s("span",[t._v(t._s(t.sum))])]):t._e(),s("i",{staticClass:"fas fa-shopping-cart cart"})])]),s("div",{staticClass:"mobile-cart"},[s("div",{staticClass:"icon"},[t.sum>0?s("div",{staticClass:"num"},[s("span",[t._v(t._s(t.sum))])]):t._e(),s("i",{staticClass:"fas fa-shopping-cart cart"})])]),s("div",{staticClass:"aside"},[s("div",{staticClass:"list-group"},[t._m(0),0===t.cart.length?s("div",[t._m(1)]):t._e(),t._l(t.cart,(function(a){return s("div",{key:a.id,staticClass:"list-group-item"},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("h6",{staticClass:"category"},[0===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("主食")]):1===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("副食")]):s("span",{staticClass:"badge badge-primary"},[t._v("零食")])]),s("small",[s("a",{staticClass:"icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delCart(a.id)}}},[s("i",{staticClass:"fas fa-trash"})])])]),s("h5",[t._v(t._s(a.title))]),s("h6",[t._v("\n          "+t._s(a.qty)+" x NT"+t._s(t._f("currency")(a.price))+"\n        ")])])})),s("div",{staticClass:"d-flex w-100 justify-content-center"},[0===t.cart.length?s("router-link",{staticClass:"nav-link close-open",attrs:{to:{name:"Products"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n            去逛逛\n          ")])]):s("router-link",{staticClass:"nav-link close-open",attrs:{to:{name:"CheckCart"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n              付款去\n          ")])])],1)],2)]),0===t.cart.length?s("div",{staticClass:"modal fade desk-modal",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(2),t._m(3),s("div",{staticClass:"modal-footer"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Products"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              去逛逛\n            ")])])],1)])])]):s("div",{staticClass:"modal fade desk-modal",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(4),s("div",{staticClass:"modal-body"},[s("table",{staticClass:"table cart-table"},[t._m(5),s("tbody",t._l(t.cart,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("a",{staticClass:"icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delCart(a.id)}}},[s("i",{staticClass:"fas fa-trash"})])]),0===a.category?s("td",{staticClass:"align-middle s-no"},[t._m(6,!0)]):1===a.category?s("td",{staticClass:"align-middle s-no"},[t._m(7,!0)]):s("td",{staticClass:"align-middle s-no"},[t._m(8,!0)]),s("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.title)+"\n                ")]),s("td",{staticClass:"align-middle text-right"},[t._v("\n                  "+t._s(t._f("currency")(a.price))+"\n                ")]),s("td",{staticClass:"s-no"}),s("td",{staticClass:"align-middle",staticStyle:{"padding-left":"23px"}},[t._v("\n                  "+t._s(a.qty)+"\n                ")]),s("td",{staticClass:"align-middle text-right s-no"},[t._v("\n                  "+t._s(t._f("currency")(a.total))+"\n                ")])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right s-no",attrs:{colspan:"6"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.money)))])])])])]),s("div",{staticClass:"modal-footer"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"CheckCart"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              付款去\n            ")])])],1)])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"list-group-item title"},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("h5",[t._v("購物車")]),s("i",{staticClass:"fas fa-times close-open"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"d-flex w-100 justify-content-center"},[s("h6",{staticClass:"content"},[t._v("還沒有選購糧食哦")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("\n            購物車\n          ")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-body text-center"},[s("h5",[t._v("還沒有選擇糧食哦！")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("\n            購物車\n          ")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th",{attrs:{width:"10%"}}),s("th",{staticClass:"s-no",attrs:{width:"15%"}},[t._v("種類")]),s("th",{attrs:{width:"20%"}},[t._v("品名")]),s("th",{attrs:{width:"12%"}},[t._v("價格")]),s("th",{staticClass:"s-no",attrs:{width:"9%"}}),s("th",{attrs:{width:"20%"}},[t._v("數量")]),s("th",{staticClass:"s-no",attrs:{width:"14%"}},[t._v("小計")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("主食")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("副食")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("零食")])])}],n=(s("ac6a"),s("1157")),c=s.n(n),r={name:"Cart",props:["sum"],data:function(){return{cart:[],money:0,length:0}},methods:{getCart:function(){var t=this;t.money=0,t.cart=JSON.parse(localStorage.getItem("cart"))||[],t.length=t.cart.length,this.$emit("update",this.length),t.cart.length>0&&t.cart.forEach((function(a){t.money+=a.total}))},checkcart:function(){var t=this;t.getCart(),c()("#cartModal").modal("show")},delCart:function(t){var a=this;a.cart.forEach((function(s,e){s.id===t&&a.cart.splice(e,1)})),a.$emit("sum",a.length),localStorage.setItem("cart",JSON.stringify(a.cart)),a.$bus.$emit("message: push","已刪除糧食"),a.getCart()}},created:function(){this.getCart()},mounted:function(){var t=this;c()(".mobile-cart").click((function(a){a.preventDefault(),c()("body").toggleClass("open"),t.getCart()})),c()(".close-open").click((function(t){t.preventDefault(),c()("body").removeClass("open")}))}},l=r,o=s("2877"),d=Object(o["a"])(l,e,i,!1,null,"74943619",null);a["a"]=d.exports},"16ac":function(t,a,s){t.exports=s.p+"img/img15.39dca8f6.png"},ed80:function(t,a,s){},ed84:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"wrap products"},[s("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-11"},[s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(3)}}},[s("a",{staticClass:"nav-link",class:{active:3===t.category},attrs:{href:"#"}},[t._v("全部")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(0)}}},[s("a",{staticClass:"nav-link",class:{active:0===t.category},attrs:{href:"#"}},[t._v("主食")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(1)}}},[s("a",{staticClass:"nav-link",class:{active:1===t.category},attrs:{href:"#"}},[t._v("副食")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(2)}}},[s("a",{staticClass:"nav-link",class:{active:2===t.category},attrs:{href:"#"}},[t._v("零食")])])])]),s("div",{staticClass:"col-1"},[s("ul",{staticClass:"nav justify-content-end"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link"},[s("Cart",{attrs:{sum:t.sum},on:{update:t.updateSum}})],1)])])])]),s("div",{staticClass:"products-card"},[s("div",{staticClass:"col-11"},[s("div",{staticClass:"row"},t._l(t.products,(function(a){return s("div",{key:a.id,staticClass:"card-group col-md-4"},[s("div",{staticClass:"card border-0",on:{click:function(s){return t.$router.push("/detail/"+a.id)}}},[t._m(1,!0),s("div",{staticStyle:{height:"240px","background-size":"cover"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("h6",[0===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("主食")]):1===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("副食")]):s("span",{staticClass:"badge badge-primary"},[t._v("零食")])]),s("h5",[s("span",{staticClass:"title"},[t._v(t._s(a.title))]),s("span",{staticClass:"float-right"},[t._v("\n                    NT "+t._s(t._f("currency")(a.price))+"\n                  ")])])])])])})),0)]),s("div",{staticClass:"col-1"})])],1)])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"banner"},[e("img",{staticClass:"img-fluid gray",attrs:{src:s("16ac"),alt:"流浪貓狗助糧平台"}}),e("div",{staticClass:"text-box"},[e("h1",[t._v("愛心糧食")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"tab"},[s("span",[t._v("急需")])])}],n=s("0af7"),c={name:"Products",data:function(){return{products:[],category:3,itemProducts:[],sum:0}},components:{Cart:n["a"]},methods:{updateSum:function(t){this.sum=t},getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/products/all");t.isLoading=!0,t.$http.get(a).then((function(a){t.products=a.data.products.filter((function(t){return 1===t.is_enabled})),t.itemProducts=a.data.products.filter((function(t){return 1===t.is_enabled})),t.isLoading=!1}))},getCategory:function(t){var a=this;a.products=3===t?a.itemProducts:a.itemProducts.filter((function(a){return a.category===t})),a.category=t}},created:function(){this.getProducts()}},r=c,l=(s("f7cc"),s("2877")),o=Object(l["a"])(r,e,i,!1,null,"5e2cce26",null);a["default"]=o.exports},f7cc:function(t,a,s){"use strict";s("ed80")}}]);
//# sourceMappingURL=chunk-cab83ffe.15ef9981.js.map