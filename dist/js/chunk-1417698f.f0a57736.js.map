{"version":3,"sources":["webpack:///./src/views/front/OrderCheck.vue?cb4b","webpack:///./src/views/front/OrderCheck.vue?dc3e","webpack:///src/views/front/OrderCheck.vue","webpack:///./src/views/front/OrderCheck.vue?50b3","webpack:///./src/views/front/OrderCheck.vue","webpack:///./src/assets/image/picture05.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","order","is_paid","_v","_l","item","key","id","_s","product","title","staticStyle","qty","_f","Math","floor","final_total","total","user","name","tel","email","address","payOrder","_e","$router","push","staticRenderFns","data","orderId","nextPage","methods","getOrder","vm","$http","get","api","then","response","success","post","$","modal","$bus","$emit","removeCart","getCart","carts","forEach","delete","message","beforeRouteLeave","next","created","$route","params","component","module","exports"],"mappings":"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","file":"js/chunk-1417698f.f0a57736.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderCheck.vue?vue&type=style&index=0&id=2aaff870&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"wrap\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"loader\":\"dots\"},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('div',{staticClass:\"row sop\"},[_vm._m(1),_vm._m(2),_c('div',{staticClass:\"col-md-4 col-sm-12\"},[(!_vm.order.is_paid)?_c('div',{staticClass:\"alert alert-success\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          3. 完成捐糧\\n        \")]):_c('div',{staticClass:\"alert alert-primary\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          3. 完成捐糧\\n          \"),_c('i',{staticClass:\"fas fa-check-circle\"})])])]),_c('div',{staticClass:\"row data\"},[_c('div',{staticClass:\"col-lg-7 col-sm-12\"},[_c('div',{staticClass:\"card border-1\"},[_vm._m(3),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\"},[_vm._m(4),_c('tbody',_vm._l((_vm.order.products),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.product.title))]),_c('td',{staticClass:\"align-middle\",staticStyle:{\"padding-left\":\"20px\"}},[_vm._v(\"\\n                    \"+_vm._s(item.qty)+\"\\n                  \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\"\\n                    \"+_vm._s(_vm._f(\"currency\")(Math.floor(item.final_total / item.qty)))+\"\\n                  \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"2\"}},[_vm._v(\"總計\")]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(_vm.order.total)))])])])])])])]),_c('div',{staticClass:\"col-lg-5 col-sm-12\"},[_c('h4',{staticClass:\"card\"},[_vm._m(5),_c('div',{staticClass:\"card-body\"},[_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',[_vm._v(\"電話\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\"Email\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"地址\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"付款狀態\")]),_c('td',[(!_vm.order.is_paid)?_c('h6',[_c('span',{staticClass:\"badge badge-danger\"},[_vm._v(\"尚未付款\")])]):_c('h6',[_c('span',{staticClass:\"badge badge-success\"},[_vm._v(\"付款完成\")])])])])])]),(_vm.order.is_paid === false)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.payOrder}},[_vm._v(\"\\n                確認付款\\n              \")])]):_vm._e()])]),(_vm.order.is_paid === true)?_c('div',{staticClass:\"text-right mt-4\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$router.push('/products')}}},[_vm._v(\"回去逛逛\")])]):_vm._e()])]),_vm._m(6),_vm._m(7)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"order-banner\"},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":require(\"../../assets/image/picture05.png\"),\"alt\":\"流浪貓狗助糧平台\"}}),_c('div',{staticClass:\"text-box\"},[_c('h1',[_vm._v(\"助糧流程\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-4 col-sm-12\"},[_c('div',{staticClass:\"alert alert-primary\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          1. 糧食明細\\n          \"),_c('i',{staticClass:\"fas fa-check-circle\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-4 col-sm-12\"},[_c('div',{staticClass:\"alert alert-primary\",attrs:{\"role\":\"alert\"}},[_vm._v(\"\\n          2. 填寫資料\\n          \"),_c('i',{staticClass:\"fas fa-check-circle\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-dark\"},[_c('h5',[_vm._v(\"明細\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',{attrs:{\"width\":\"30%\"}},[_vm._v(\"品名\")]),_c('th',{attrs:{\"width\":\"35%\"}},[_vm._v(\"數量\")]),_c('th',{attrs:{\"width\":\"20%\"}},[_vm._v(\"單價\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header bg-dark\"},[_c('h5',[_vm._v(\"捐助人\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"payModal\",\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"愛心助糧\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body p-3 d-flex align-items-center justify-content-center\"},[_c('h6',[_c('i',{staticClass:\"fas fa-check-circle mr-2\"}),_vm._v(\"付款完成，謝謝你的愛心！\\n            \")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"leaveModal\",\"tabindex\":\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title text-light\",attrs:{\"id\":\"exampleModalLabel\"}},[_vm._v(\"愛心助糧\")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])]),_c('div',{staticClass:\"modal-body\"},[_c('p',[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_vm._v(\"\\n              付款尚未完成，離開將會清空所有記錄，確定離開？\\n            \")])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary btn-stay\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n              否\\n            \")]),_c('button',{staticClass:\"btn btn-primary btn-leave\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n              是\\n            \")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"wrap\">\n      <loading :active.sync=\"isLoading\" loader=\"dots\"></loading>\n      <div class=\"order-banner\">\n        <img src=\"../../assets/image/picture05.png\" class=\"img-fluid\" alt=\"流浪貓狗助糧平台\">\n        <div class=\"text-box\">\n          <h1>助糧流程</h1>\n        </div>\n      </div>\n      <div class=\"row sop\">\n        <div class=\"col-md-4 col-sm-12\">\n          <div class=\"alert alert-primary\" role=\"alert\">\n            1. 糧食明細\n            <i class=\"fas fa-check-circle\"></i>\n          </div>\n        </div>\n        <div class=\"col-md-4 col-sm-12\">\n          <div class=\"alert alert-primary\" role=\"alert\">\n            2. 填寫資料\n            <i class=\"fas fa-check-circle\"></i>\n          </div>\n        </div>\n        <div class=\"col-md-4 col-sm-12\">\n          <div v-if=\"!order.is_paid\" class=\"alert alert-success\" role=\"alert\">\n            3. 完成捐糧\n          </div>\n          <div v-else class=\"alert alert-primary\" role=\"alert\">\n            3. 完成捐糧\n            <i class=\"fas fa-check-circle\"></i>\n          </div>\n        </div>\n      </div>\n      <!--Data-->\n      <div class=\"row data\">\n        <div class=\"col-lg-7 col-sm-12\">\n          <div class=\"card border-1\">\n            <div class=\"card-header bg-dark\">\n              <h5>明細</h5>\n            </div>\n            <div class=\"card-body\">\n              <table class=\"table\">\n                <thead>\n                  <th width=\"30%\">品名</th>\n                  <th width=\"35%\">數量</th>\n                  <th width=\"20%\">單價</th>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in order.products\" :key=\"item.id\">\n                    <td class=\"align-middle\">{{ item.product.title }}</td>\n                    <td class=\"align-middle\" style=\"padding-left: 20px\">\n                      {{ item.qty }}\n                    </td>\n                    <td class=\"align-middle text-right\">\n                      {{ Math.floor(item.final_total / item.qty)  | currency }}\n                    </td>\n                  </tr>\n                </tbody>\n                <tfoot>\n                  <tr>\n                    <td colspan=\"2\" class=\"text-right\">總計</td>\n                    <td class=\"text-right\">{{ order.total | currency }}</td>\n                  </tr>\n                </tfoot>\n              </table>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-lg-5 col-sm-12\">\n          <h4 class=\"card\">\n            <div class=\"card-header bg-dark\">\n              <h5>捐助人</h5>\n            </div>\n            <div class=\"card-body\">\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th>姓名</th>\n                    <td>{{ order.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>{{ order.user.tel }}</td>\n                  </tr>\n                  <tr>\n                    <th width=\"100\">Email</th>\n                    <td>{{ order.user.email }}</td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ order.user.address }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <h6 v-if=\"!order.is_paid\">\n                        <span class=\"badge badge-danger\">尚未付款</span>\n                      </h6>\n                      <h6 v-else>\n                        <span class=\"badge badge-success\">付款完成</span>\n                      </h6>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"text-right\" v-if=\"order.is_paid === false\">\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"payOrder\">\n                  確認付款\n                </button>\n              </div>\n            </div>\n          </h4>\n          <div class=\"text-right mt-4\"  v-if=\"order.is_paid === true\">\n            <button type=\"button\" class=\"btn btn-primary\"\n              @click=\"$router.push('/products')\">回去逛逛</button>\n          </div>\n        </div>\n      </div>\n      <!--payModal-->\n      <div class=\"modal fade\" id=\"payModal\" tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\" >\n              <h5 class=\"modal-title\">愛心助糧</h5>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body p-3 d-flex align-items-center justify-content-center\">\n              <h6>\n                <i class=\"fas fa-check-circle mr-2\"></i>付款完成，謝謝你的愛心！\n              </h6>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!--leaveModal-->\n      <div class=\"modal fade\" id=\"leaveModal\" tabindex=\"-1\"\n      aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div class=\"modal-dialog\">\n          <div class=\"modal-content\">\n            <div class=\"modal-header\">\n              <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">愛心助糧</h5>\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n              </button>\n            </div>\n            <div class=\"modal-body\">\n              <p>\n                <i class=\"fas fa-exclamation-circle\"></i>\n                付款尚未完成，離開將會清空所有記錄，確定離開？\n              </p>\n            </div>\n            <div class=\"modal-footer\">\n              <button type=\"button\" class=\"btn btn-primary btn-stay\" data-dismiss=\"modal\">\n                否\n              </button>\n              <button type=\"button\" class=\"btn btn-primary btn-leave\" data-dismiss=\"modal\">\n                是\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* global $ */\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      orderId: '',\n      order: {\n        user: {},\n      },\n      nextPage: false,\n    };\n  },\n  methods: {\n    getOrder() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/order/${vm.orderId}`;\n      vm.isLoading = true;\n      vm.$http.get(api).then((response) => {\n        if (response.data.success) {\n          vm.isLoading = false;\n          vm.order = response.data.order;\n        }\n      });\n    },\n    payOrder() {\n      const vm = this;\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/pay/${vm.orderId}`;\n      vm.isLoading = true;\n      vm.$http.post(api).then((response) => {\n        if (response.data.success) {\n          vm.nextPage = true;\n          vm.isLoading = false;\n          vm.getOrder();\n          $('#payModal').modal('show');\n        } else {\n          vm.isLoading = false;\n          vm.$bus.$emit('message: push', '付款失敗', 'danger');\n        }\n      });\n    },\n    removeCart() {\n      const vm = this;\n      vm.getCart();\n      vm.carts.carts.forEach((item) => {\n        const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_CUSTOM}/cart/${item.id}`;\n        vm.$http.delete(api).then((response) => {\n          vm.$bus.$emit('message:push', response.data.message, 'success');\n        });\n      });\n    },\n  },\n  beforeRouteLeave(to, from, next) {\n    const vm = this;\n    if (vm.order.is_paid) {\n      vm.nextPage = true;\n    }\n    if (vm.nextPage) {\n      next();\n    } else {\n      $('#leaveModal').modal('show');\n      $('.btn-stay').on('click', () => {\n        next(false);\n      });\n      $('.btn-leave').on('click', () => {\n        next();\n        // vm.removeCart();\n      });\n    }\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    this.getOrder();\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.modal-header {\n  background-color: #616161;\n  color: #ffffff;\n}\n.modal-body {\n  p {\n    margin-top: 15px;\n    font-size: 18px;\n  }\n}\n.btn-leave {\n  opacity: 0.5;\n}\ntfoot {\n  tr {\n    font-weight: bold;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderCheck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderCheck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderCheck.vue?vue&type=template&id=2aaff870&scoped=true&\"\nimport script from \"./OrderCheck.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderCheck.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderCheck.vue?vue&type=style&index=0&id=2aaff870&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2aaff870\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/picture05.9c07961d.png\";"],"sourceRoot":""}