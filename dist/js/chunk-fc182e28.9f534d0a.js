(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc182e28"],{"0af7":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[0===t.sum?s("div",{staticClass:"desk-cart-empty"},[s("div",{staticClass:"icon",on:{click:t.checkcart}},[s("i",{staticClass:"fas fa-shopping-cart cart"})])]):s("div",{staticClass:"desk-cart"},[s("div",{staticClass:"icon",on:{click:t.checkcart}},[s("div",{staticClass:"num"},[s("span",[t._v(t._s(t.sum))])]),s("i",{staticClass:"fas fa-shopping-cart cart"})])]),0===t.sum?s("div",{staticClass:"mobile mobile-cart-empty"},[t._m(0)]):s("div",{staticClass:"mobile mobile-cart"},[s("div",{staticClass:"icon"},[s("div",{staticClass:"num"},[s("span",[t._v(t._s(t.sum))])]),s("i",{staticClass:"fas fa-shopping-cart cart"})])]),s("div",{staticClass:"aside"},[s("div",{staticClass:"list-group"},[t._m(1),0===t.cart.length?s("div",[t._m(2)]):t._e(),t._l(t.cart,(function(a){return s("div",{key:a.id,staticClass:"list-group-item"},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("h6",{staticClass:"category"},[0===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("主食")]):1===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("副食")]):s("span",{staticClass:"badge badge-primary"},[t._v("零食")])]),s("small",[s("a",{staticClass:"icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delCart(a.id)}}},[s("i",{staticClass:"fas fa-trash"})])])]),s("h5",[t._v(t._s(a.title))]),s("h6",[t._v("\n          "+t._s(a.qty)+" x NT"+t._s(t._f("currency")(a.price))+"\n        ")])])})),s("div",{staticClass:"d-flex w-100 justify-content-center mt-4"},[0===t.cart.length?s("router-link",{staticClass:"nav-link close-open",attrs:{to:{name:"Products"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n            去逛逛\n          ")])]):s("router-link",{staticClass:"nav-link close-open",attrs:{to:{name:"CheckCart"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n              付款去\n          ")])])],1)],2)]),0===t.cart.length?s("div",{staticClass:"modal fade desk-modal",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(3),t._m(4),s("div",{staticClass:"modal-footer"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"Products"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              去逛逛\n            ")])])],1)])])]):s("div",{staticClass:"modal fade desk-modal",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(5),s("div",{staticClass:"modal-body"},[s("table",{staticClass:"table cart-table"},[t._m(6),s("tbody",t._l(t.cart,(function(a){return s("tr",{key:a.id},[s("td",{staticClass:"align-middle"},[s("a",{staticClass:"icon",attrs:{href:"#"},on:{click:function(s){return s.preventDefault(),t.delCart(a.id)}}},[s("i",{staticClass:"fas fa-trash"})])]),0===a.category?s("td",{staticClass:"align-middle s-no"},[t._m(7,!0)]):1===a.category?s("td",{staticClass:"align-middle s-no"},[t._m(8,!0)]):s("td",{staticClass:"align-middle s-no"},[t._m(9,!0)]),s("td",{staticClass:"align-middle"},[t._v("\n                  "+t._s(a.title)+"\n                ")]),s("td",{staticClass:"align-middle text-right"},[t._v("\n                  "+t._s(t._f("currency")(a.price))+"\n                ")]),s("td",{staticClass:"s-no"}),s("td",{staticClass:"align-middle",staticStyle:{"padding-left":"23px"}},[t._v("\n                  "+t._s(a.qty)+"\n                ")]),s("td",{staticClass:"align-middle text-right s-no"},[t._v("\n                  "+t._s(t._f("currency")(a.total))+"\n                ")])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right s-no",attrs:{colspan:"6"}},[t._v("總計")]),s("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.money)))])])])])]),s("div",{staticClass:"modal-footer"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"CheckCart"}}},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n              付款去\n            ")])])],1)])])])])},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-shopping-cart cart"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"list-group-item title"},[s("div",{staticClass:"d-flex w-100 justify-content-between"},[s("h5",[t._v("購物車")]),s("i",{staticClass:"fas fa-times close-open"})])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"d-flex w-100 justify-content-center"},[s("h6",{staticClass:"content"},[t._v("還沒有選購糧食哦")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("\n            購物車\n          ")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-body text-center"},[s("h5",[t._v("還沒有選擇糧食哦！")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("\n            購物車\n          ")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("thead",[s("th",{attrs:{width:"10%"}}),s("th",{staticClass:"s-no",attrs:{width:"15%"}},[t._v("種類")]),s("th",{attrs:{width:"20%"}},[t._v("品名")]),s("th",{attrs:{width:"12%"}},[t._v("價格")]),s("th",{staticClass:"s-no",attrs:{width:"9%"}}),s("th",{attrs:{width:"20%"}},[t._v("數量")]),s("th",{staticClass:"s-no",attrs:{width:"14%"}},[t._v("小計")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("主食")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("副食")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h5",[s("span",{staticClass:"badge badge-primary"},[t._v("零食")])])}],c=(s("ac6a"),{name:"Cart",props:["sum"],data:function(){return{cart:[],money:0,length:0}},methods:{getCart:function(){var t=this;t.money=0,t.cart=JSON.parse(localStorage.getItem("cart"))||[],t.length=t.cart.length,this.$emit("update",this.length),t.cart.length>0&&t.cart.forEach((function(a){t.money+=a.total}))},checkcart:function(){var t=this;t.getCart(),$("#cartModal").modal("show")},delCart:function(t){var a=this;a.cart.forEach((function(s,i){s.id===t&&a.cart.splice(i,1)})),a.$emit("sum",a.length),localStorage.setItem("cart",JSON.stringify(a.cart)),a.$bus.$emit("message: push","已刪除糧食"),a.getCart()}},created:function(){this.getCart()},mounted:function(){var t=this;$(".mobile").click((function(a){a.preventDefault(),$("body").toggleClass("open"),t.getCart()})),$(".close-open").click((function(t){t.preventDefault(),$("body").removeClass("open")}))}}),n=c,r=(s("a93f"),s("2877")),l=Object(r["a"])(n,i,e,!1,null,"3249cbba",null);a["a"]=l.exports},"2ec5":function(t,a,s){t.exports=s.p+"img/products.97716f96.png"},3659:function(t,a,s){"use strict";s("5208")},5208:function(t,a,s){},"5d15":function(t,a,s){},a93f:function(t,a,s){"use strict";s("5d15")},ed84:function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"wrap"},[s("loading",{attrs:{active:t.isLoading,loader:"dots"},on:{"update:active":function(a){t.isLoading=a}}}),t._m(0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-11"},[s("ul",{staticClass:"nav nav-tabs"},[s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(3)}}},[s("a",{staticClass:"nav-link",class:{active:3===t.category},attrs:{href:"#"}},[t._v("全部")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(0)}}},[s("a",{staticClass:"nav-link",class:{active:0===t.category},attrs:{href:"#"}},[t._v("主食")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(1)}}},[s("a",{staticClass:"nav-link",class:{active:1===t.category},attrs:{href:"#"}},[t._v("副食")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return a.preventDefault(),t.getCategory(2)}}},[s("a",{staticClass:"nav-link",class:{active:2===t.category},attrs:{href:"#"}},[t._v("零食")])])])]),s("div",{staticClass:"col-1"},[s("ul",{staticClass:"nav justify-content-end"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link"},[s("Cart",{attrs:{sum:t.sum},on:{update:t.updateSum}})],1)])])])]),s("div",{staticClass:"products-card"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},t._l(t.products,(function(a){return s("div",{key:a.id,staticClass:"card-group col-lg-4 col-md-6"},[s("div",{staticClass:"card border-0",on:{click:function(s){return t.$router.push("/detail/"+a.id)}}},[s("div",{staticStyle:{height:"260px","background-size":"cover"},style:{backgroundImage:"url("+a.imageUrl+")"}}),s("div",{staticClass:"card-body"},[s("h6",[0===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("主食")]):1===a.category?s("span",{staticClass:"badge badge-primary"},[t._v("副食")]):s("span",{staticClass:"badge badge-primary"},[t._v("零食")])]),s("h5",[s("span",{staticClass:"title"},[t._v(t._s(a.title))]),s("span",{staticClass:"float-right"},[t._v("\n                    NT "+t._s(t._f("currency")(a.price))+"\n                  ")])])])])])})),0)]),s("div",{staticClass:"col-1"})])],1)])},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"products-banner"},[i("img",{staticClass:"img-fluid",attrs:{src:s("2ec5"),alt:"流浪貓狗助糧平台"}}),i("div",{staticClass:"text-box"},[i("h1",[t._v("愛糧"),i("br"),t._v("心食")])])])}],c=s("0af7"),n={name:"Products",data:function(){return{products:[],category:3,itemProducts:[],sum:0}},components:{Cart:c["a"]},methods:{updateSum:function(t){this.sum=t},getProducts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("jasmjazz","/products/all");t.isLoading=!0,t.$http.get(a).then((function(a){t.products=a.data.products.filter((function(t){return 1===t.is_enabled})),t.itemProducts=a.data.products.filter((function(t){return 1===t.is_enabled})),t.isLoading=!1}))},getCategory:function(t){var a=this;a.products=3===t?a.itemProducts:a.itemProducts.filter((function(a){return a.category===t})),a.category=t}},created:function(){this.getProducts()}},r=n,l=(s("3659"),s("2877")),o=Object(l["a"])(r,i,e,!1,null,"28a805a0",null);a["default"]=o.exports}}]);
//# sourceMappingURL=chunk-fc182e28.9f534d0a.js.map